@import '../../Styles/modules';

/*
   Panels
   -----------------------------------------------------------------------------
*/

.cf-panel {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: $cf-radius;
}

.cf-panel--header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.cf-panel--title {
  font-style: normal;
  font-weight: 600;
  letter-spacing: 0.015em;
  margin: 0;
  line-height: 1em;
  @extend %no-user-select;
}

.cf-panel--controls {
  display: flex;
  align-items: center;
}

.cf-panel--body {
  > *:last-child {
    margin-bottom: 0;
  }
}

.cf-panel--footer {
  border-radius: 0 0 $cf-radius $cf-radius;
  background-color: rgba($g0-obsidian, 0.1);
}

/*
  Dismissable Panel
  ------------------------------------------------------------------------------
*/

$panel--dismiss-button: 30px;

.cf-panel__dismissable {
  position: relative;

  > .cf-panel--header {
    padding-right: 40px;
  }
}

.cf-panel--dismiss {
  position: absolute;
  background-color: transparent;
  border: 0;
  transition: opacity 0.25s ease;
  opacity: 0.4;
  outline: none;

  &:before,
  &:after {
    content: '';
    height: $cf-border;
    border-radius: $cf-border / 2;
    position: absolute;
    top: 50%;
    left: 50%;
  }

  &:before {
    transform: translate(-50%, -50%) rotate(45deg);
  }

  &:after {
    transform: translate(-50%, -50%) rotate(-45deg);
  }

  &:hover {
    cursor: pointer;
    opacity: 1;
  }
}

/*
  Size Modifiers
  ------------------------------------------------------------------------------
*/
@mixin panelSizeModifier($fontSize, $fontWeight, $padding, $dismissSize) {
  > .cf-panel--header {
    padding: $padding * 2;
  }
  > .cf-panel--body {
    font-size: $fontSize;
    padding: $padding * 2;
  }
  > .cf-panel--header + .cf-panel--body {
    padding-top: 0;
  }
  > .cf-panel--header > .cf-panel--title {
    font-weight: $fontWeight;
    font-size: $fontSize * 1.5;
  }
  > .cf-panel--footer {
    padding: $padding ($padding * 2);
  }
  &.cf-panel__dismissable > .cf-panel--header {
    padding-right: $dismissSize + $padding;
  }

  .cf-panel--dismiss {
    width: $dismissSize - $cf-border;
    height: $dismissSize - $cf-border;
    top: ($padding / 2);
    right: ($padding / 2);
  }

  .cf-panel--dismiss:before,
  .cf-panel--dismiss:after {
    width: $dismissSize * 0.55;
  }
}

.cf-panel--xs {
  @include panelSizeModifier($form-xs-font, 600, $form-xs-padding, $form-xs-height);
}
.cf-panel--sm {
  @include panelSizeModifier($form-sm-font, 500, $form-sm-padding, $form-sm-height);
}
.cf-panel--md {
  @include panelSizeModifier($form-md-font, 500, $form-md-padding, $form-md-height);
}
.cf-panel--lg {
  @include panelSizeModifier($form-lg-font, 400, $form-lg-padding, $form-md-height);
}

/*
  Contrast Text Modifiers
  ------------------------------------------------------------------------------
*/

.cf-panel__dark-text {
  > .cf-panel--header > .cf-panel--title {
    color: $g4-onyx;
  }
  > .cf-panel--body,
  > .cf-panel--footer {
    color: rgba($g4-onyx, 0.75);
  }
  > .cf-panel--dismiss:before,
  > .cf-panel--dismiss:after {
    background-color: $g4-onyx;
  }
}

.cf-panel__light-text {
  > .cf-panel--header > .cf-panel--title {
    color: $g18-cloud;
  }
  > .cf-panel--body,
  > .cf-panel--footer {
    color: rgba($g18-cloud, 0.75);
  }
  > .cf-panel--dismiss:before,
  > .cf-panel--dismiss:after {
    background-color: $g18-cloud;
  }
}

/*
  Horizontal Rules directly inside Panels
  ------------------------------------------------------------------------------
*/

.cf-panel--body hr {
  margin: $cf-marg-c 0;
}

